<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>John Gitau · full‑stack dev</title>
    <!-- minimal, modern favicon (inline) -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>⌨️</text></svg>">
    
    <!-- Inter & Poppins – kept only weights used -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:opsz@14..32;400;500;600;700&family=Poppins:wght@400;500&display=swap" rel="stylesheet">
    
    <!-- Bootstrap (minimal grid & components) + icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- toastr (clean, center override) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">

    <style>
        /* ----- MODERN RESET & TOKENS (smaller base for all screens) ----- */
        * { box-sizing: border-box; margin: 0; padding: 0; }
        :root {
            --bg: #fafbfc;
            --surface: #ffffff;
            --primary: #1d4ed8;       /* deeper, modern blue */
            --primary-light: #3b82f6;
            --text-dark: #0b1e33;
            --text-muted: #334155;
            --border-light: #e9edf2;
            --card-shadow: 0 8px 20px -6px rgba(0, 20, 50, 0.08);
            --transition: all 0.2s ease;
        }

        html { scroll-behavior: smooth; }
        body {
            font-family: 'Inter', system-ui, -apple-system, sans-serif;
            background: var(--bg);
            color: var(--text-dark);
            font-size: 0.9rem;         /* smaller base = fits smaller monitors */
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
        }

        h1, h2, h3, h4, .h1, .h2 { font-weight: 600; letter-spacing: -0.02em; }
        .display-5 { font-size: clamp(1.8rem, 5vw, 2.5rem); }  /* fluid but small */

        /* ----- NAVIGATION (clean, minimal) ----- */
        .navbar {
            background: rgba(255,255,255,0.85);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-bottom: 1px solid rgba(0,0,0,0.04);
            padding: 0.6rem 0;
            transition: var(--transition);
        }
        .navbar-scrolled { box-shadow: 0 4px 16px rgba(0,0,0,0.02); }
        .navbar-brand {
            font-weight: 700;
            color: var(--primary);
            font-size: 1.3rem;
            letter-spacing: -0.3px;
        }
        .navbar-brand i { color: var(--primary-light); }
        .nav-link {
            font-weight: 500;
            color: var(--text-muted);
            margin: 0 0.3rem;
            padding: 0.4rem 0.8rem;
            font-size: 0.9rem;
            border-radius: 40px;
            transition: var(--transition);
        }
        .nav-link:hover, .nav-link.active {
            color: var(--primary);
            background: rgba(29, 78, 216, 0.04);
        }

        /* ----- HERO (smaller padding, cleaner) ----- */
        .hero {
            background: linear-gradient(145deg, #0f2b4b 0%, #1e3f6e 100%);
            color: white;
            padding: 7rem 0 5rem;
            margin-bottom: 1rem;
        }
        .hero .display-5 { font-weight: 700; margin-bottom: 1rem; }
        .hero .lead { font-size: 1rem; opacity: 0.85; max-width: 520px; }
        .hero-img {
            border-radius: 20px;
            box-shadow: 0 20px 30px -10px rgba(0,0,0,0.25);
            max-width: 90%;
        }

        /* ----- SECTION TITLES (clean underline) ----- */
        .section-title {
            font-size: 1.8rem;
            margin-bottom: 2rem;
            position: relative;
            padding-bottom: 0.6rem;
        }
        .section-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 48px;
            height: 3px;
            background: var(--primary);
            border-radius: 4px;
        }
        .text-center .section-title::after {
            left: 50%;
            transform: translateX(-50%);
        }

        /* ----- cards / stats (light, no overbloat) ----- */
        .card {
            border: 1px solid var(--border-light);
            border-radius: 18px;
            background: var(--surface);
            box-shadow: var(--card-shadow);
            transition: transform 0.15s ease, box-shadow 0.2s;
            height: 100%;
        }
        .card:hover { transform: translateY(-4px); box-shadow: 0 16px 28px -8px rgba(0,20,50,0.12); }
        .card-img-top {
            height: 170px;
            object-fit: cover;
            border-top-left-radius: 18px;
            border-top-right-radius: 18px;
        }
        .badge {
            background: #eef2f6;
            color: var(--text-dark);
            font-weight: 500;
            padding: 0.3rem 0.8rem;
            border-radius: 30px;
            font-size: 0.75rem;
            margin: 0.15rem;
        }
        .skill-icon { font-size: 2rem; color: var(--primary); margin-bottom: 1rem; }

        /* stat boxes */
        .stat-box {
            background: white;
            border-radius: 16px;
            padding: 1.2rem;
            border: 1px solid var(--border-light);
        }
        .stat-number { font-size: 2rem; font-weight: 700; color: var(--primary); }

        /* ----- CONTACT SECTION (modern, small font) ----- */
        .contact-section {
            background: linear-gradient(135deg, #1a2f4f 0%, #17335c 100%);
            color: white;
            padding: 4rem 0;
            margin-top: 2rem;
        }
        .contact-info-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(8px);
            border-radius: 24px;
            padding: 2rem;
            border: 1px solid rgba(255,255,255,0.1);
        }
        .contact-info-card i { width: 32px; color: #aac8ff; }
        .contact-info-card p { font-size: 0.9rem; margin-bottom: 1rem; }

        .contact-form input, .contact-form textarea {
            background: rgba(255,255,255,0.06);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 16px;
            padding: 0.9rem 1.2rem;
            font-size: 0.9rem;
            color: white;
            transition: var(--transition);
        }
        .contact-form input:focus, .contact-form textarea:focus {
            background: rgba(255,255,255,0.1);
            border-color: #90b4ff;
            box-shadow: 0 0 0 3px rgba(144, 180, 255, 0.2);
            outline: none;
            color: white;
        }
        .contact-form ::placeholder { color: rgba(255,255,255,0.6); font-size: 0.85rem; }
        .btn-submit {
            background: white;
            color: #0b1e33;
            border: none;
            border-radius: 40px;
            padding: 0.9rem 1.8rem;
            font-weight: 600;
            font-size: 0.95rem;
            transition: 0.15s;
            width: 100%;
        }
        .btn-submit:hover {
            background: #f0f4ff;
            transform: scale(1.01);
            box-shadow: 0 6px 16px rgba(0,0,0,0.2);
        }
        .btn-submit:disabled { opacity: 0.6; }

        /* social icons minimal */
        .social-icon {
            width: 42px; height: 42px;
            background: rgba(255,255,255,0.08);
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
            transition: 0.2s;
            text-decoration: none;
        }
        .social-icon:hover { background: rgba(255,255,255,0.2); color: white; transform: translateY(-3px); }

        /* footer minimal */
        footer {
            background: #0d1a2b;
            color: #a5b9d4;
            padding: 2.5rem 0;
            font-size: 0.85rem;
        }
        footer a { color: #cdddfa; text-decoration: none; }
        footer a:hover { color: white; }

        /* ----- TOAST CENTER OVERRIDE (requirement #4) ----- */
        #toast-container {
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            width: auto;
            max-width: 380px;
        }
        .toast-success { background: #0f6f4a; }   /* deeper green */
        .toast-error { background: #b91c1c; }
        .toast-info { background: var(--primary); }
        .toast { border-radius: 50px; font-size: 0.9rem; box-shadow: 0 12px 28px rgba(0,0,0,0.3); }

        /* small tweaks */
        .timeline-item::before { background: var(--primary); box-shadow: 0 0 0 3px rgba(29,78,216,0.2); }
        hr { opacity: 0.15; }

        @media (max-width: 768px) {
            .hero { padding: 6rem 0 4rem; }
            .section-title { font-size: 1.7rem; }
        }
    </style>
</head>
<body>
    <!-- NAV -->
    <nav class="navbar navbar-expand-lg fixed-top">
        <div class="container">
            <a class="navbar-brand" href="#"><i class="fa-regular fa-keyboard me-2"></i>John Gitau</a>
            <button class="navbar-toggler border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="#about">About</a></li>
                    <li class="nav-item"><a class="nav-link" href="#projects">Projects</a></li>
                    <li class="nav-item"><a class="nav-link" href="#skills">Skills</a></li>
                    <li class="nav-item"><a class="nav-link" href="#contact">Contact</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- HERO -->
    <section class="hero">
        <div class="container">
            <div class="row align-items-center g-4">
                <div class="col-lg-6">
                    <h1 class="display-5">Full Stack Developer<br><span style="color: #b3d0ff;">from Nairobi</span></h1>
                    <p class="lead">crafting web & mobile apps with React, Node.js, and clean logic. 3+ years of remote collaboration.</p>
                    <div class="d-flex flex-wrap gap-3">
                        <a href="#projects" class="btn btn-light px-4 py-2 rounded-pill">work</a>
                        <a href="#contact" class="btn btn-outline-light px-4 py-2 rounded-pill">say hi</a>
                    </div>
                </div>
                <div class="col-lg-6 text-center">
                    <img src="https://images.unsplash.com/photo-1522202176988-66273c2fd55f?w=600&auto=format" class="img-fluid hero-img" alt="dev space" loading="eager">
                </div>
            </div>
        </div>
    </section>

    <!-- ABOUT (clean) -->
    <section id="about" class="section py-5">
        <div class="container">
            <h2 class="section-title">About</h2>
            <div class="row g-4">
                <div class="col-lg-6">
                    <p class="fs-6 fw-light mb-3">I'm <strong class="text-primary">John Gitau</strong>, a full‑stack developer focused on building products that feel effortless. BSc CompSci from Kirinyaga University.</p>
                    <p class="mb-4">I work mainly with the JavaScript ecosystem — React, Vue, Node, and occasionally Python. I care about performance, accessibility, and clean code.</p>
                    <div class="row g-3">
                        <div class="col-6"><div class="stat-box"><div class="stat-number">3+</div><div class="stat-label">years</div></div></div>
                        <div class="col-6"><div class="stat-box"><div class="stat-number">50+</div><div class="stat-label">projects</div></div></div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="p-4 bg-white rounded-4 border">
                        <h5 class="fw-semibold mb-3">⏳ timeline</h5>
                        <div class="timeline">
                            <div class="timeline-item mb-3">
                                <h6>BSc Computer Science</h6>
                                <p class="text-secondary small">Kirinyaga Univ. · 2019–2023</p>
                            </div>
                            <div class="timeline-item mb-3">
                                <h6>Full‑stack freelancer</h6>
                                <p class="text-secondary small">remote clients · 2023–present</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- PROJECTS (minimal) -->
    <section id="projects" class="py-5 bg-white">
        <div class="container">
            <div class="text-center">
                <h2 class="section-title">selected projects</h2>
            </div>
            <div class="row g-4 mt-2">
                <div class="col-md-6 col-lg-4">
                    <div class="card p-0">
                        <img src="https://images.unsplash.com/photo-1551650975-87deedd944c3?w=600&auto=format" class="card-img-top" alt="e-commerce">
                        <div class="card-body p-3">
                            <h6 class="fw-bold">E‑commerce platform</h6>
                            <p class="small text-secondary">React, Node, MongoDB, Stripe</p>
                            <span class="badge">React</span><span class="badge">Node.js</span>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-4">
                    <div class="card p-0">
                        <img src="https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=600&auto=format" class="card-img-top" alt="group management">
                        <div class="card-body p-3">
                            <h6 class="fw-bold">Group management</h6>
                            <p class="small text-secondary">Vue, PHP, MySQL, websockets</p>
                            <span class="badge">Vue</span><span class="badge">Laravel</span>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-4">
                    <div class="card p-0">
                        <img src="https://images.unsplash.com/photo-1558346490-a72e53ae2d4f?w=600&auto=format" class="card-img-top" alt="nairobi transport">
                        <div class="card-body p-3">
                            <h6 class="fw-bold">Nairobi transport</h6>
                            <p class="small text-secondary">React Native, Firebase, Maps</p>
                            <span class="badge">React Native</span><span class="badge">Firebase</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- SKILLS (compact) -->
    <section id="skills" class="py-5">
        <div class="container">
            <div class="text-center">
                <h2 class="section-title">toolbox</h2>
            </div>
            <div class="row g-3">
                <div class="col-6 col-md-3">
                    <div class="p-3 bg-white rounded-4 border text-center h-100"><i class="fab fa-react skill-icon"></i><h6 class="mt-2 fw-semibold">React / Vue</h6></div>
                </div>
                <div class="col-6 col-md-3">
                    <div class="p-3 bg-white rounded-4 border text-center h-100"><i class="fas fa-server skill-icon"></i><h6 class="mt-2 fw-semibold">Node.js / PHP</h6></div>
                </div>
                <div class="col-6 col-md-3">
                    <div class="p-3 bg-white rounded-4 border text-center h-100"><i class="fas fa-mobile-alt skill-icon"></i><h6 class="mt-2 fw-semibold">React Native</h6></div>
                </div>
                <div class="col-6 col-md-3">
                    <div class="p-3 bg-white rounded-4 border text-center h-100"><i class="fas fa-database skill-icon"></i><h6 class="mt-2 fw-semibold">MongoDB / MySQL</h6></div>
                </div>
            </div>
        </div>
    </section>

    <!-- CONTACT SECTION (redesigned, smaller fonts, no upscroll) -->
    <section id="contact" class="contact-section">
        <div class="container">
            <h2 class="text-white mb-4" style="font-size: 1.9rem;">let's connect</h2>
            <div class="row g-4">
                <div class="col-lg-5">
                    <div class="contact-info-card">
                        <p class="fs-6 mb-3">open for freelance or full‑time — let’s talk.</p>
                        <p><i class="fas fa-envelope me-2"></i>jonterob756@gmail.com</p>
                        <p><i class="fas fa-phone me-2"></i>+254 110 856 452</p>
                        <p><i class="fas fa-map-pin me-2"></i>Nairobi, Kenya</p>
                        <div class="d-flex gap-2 mt-4">
                            <a href="#" class="social-icon"><i class="fab fa-github"></i></a>
                            <a href="#" class="social-icon"><i class="fab fa-linkedin-in"></i></a>
                            <a href="#" class="social-icon"><i class="fab fa-x-twitter"></i></a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-7">
                    <form id="contact-form" class="contact-form">
                        <div class="row g-3">
                            <div class="col-md-6"><input type="text" name="name" class="form-control" placeholder="your name" required></div>
                            <div class="col-md-6"><input type="email" name="email" class="form-control" placeholder="email" required></div>
                            <div class="col-12"><input type="text" name="subject" class="form-control" placeholder="subject (optional)"></div>
                            <div class="col-12"><textarea name="message" rows="4" class="form-control" placeholder="tell me about your project..." required></textarea></div>
                            <div class="col-12">
                                <button type="submit" class="btn-submit" id="submitBtn"><span id="btnText">send message</span> <span id="btnSpinner" class="spinner-border spinner-border-sm d-none"></span></button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- FOOTER -->
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-md-6"><p class="small opacity-75">© <span id="year"></span> John Gitau — full‑stack developer</p></div>
                <div class="col-md-6 text-md-end"><a href="#" class="text-white-50 me-3">privacy</a><a href="#" class="text-white-50">terms</a></div>
            </div>
        </div>
    </footer>

    <!-- SCRIPTS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
    <script>
        (function() {
            // ---------- CONFIG ----------
            const EMAILJS_CONFIG = {
                PUBLIC_KEY: "Q1Db3xO7terlVPf3w",       // from user
                SERVICE_ID: "service_v9bijqc",
                TEMPLATE_ID: "template_wszcdnw"
            };

            // ---------- TOAST CENTER (override position to center) ----------
            toastr.options = {
                closeButton: true,
                progressBar: true,
                positionClass: 'toast-top-center',   // built-in center, but we'll force via CSS
                preventDuplicates: true,
                timeOut: 4200,
                extendedTimeOut: 1000,
                showEasing: 'swing',
                hideEasing: 'linear',
                showMethod: 'fadeIn',
                hideMethod: 'fadeOut'
            };
            // extra guarantee: #toast-container styled in CSS to absolute center

            // ---------- INIT EMAILJS ----------
            (function initEmail() {
                if (!EMAILJS_CONFIG.PUBLIC_KEY || EMAILJS_CONFIG.PUBLIC_KEY.includes('YOUR_')) {
                    console.warn('invalid public key');
                    return;
                }
                emailjs.init(EMAILJS_CONFIG.PUBLIC_KEY).catch(e => console.warn('emailjs init err', e));
            })();

            // ---------- DOM READY ----------
            document.addEventListener('DOMContentLoaded', function() {
                // year
                document.getElementById('year').textContent = new Date().getFullYear();

                // navbar scroll class
                const navbar = document.querySelector('.navbar');
                window.addEventListener('scroll', () => {
                    navbar.classList.toggle('navbar-scrolled', window.scrollY > 30);
                    // active nav link (basic)
                    const fromTop = window.scrollY + 90;
                    document.querySelectorAll('.nav-link').forEach(link => {
                        const section = document.querySelector(link.getAttribute('href'));
                        if (section) {
                            link.classList.toggle('active', 
                                section.offsetTop <= fromTop && 
                                section.offsetTop + section.offsetHeight > fromTop);
                        }
                    });
                });

                // smooth scroll for internal links
                document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                    anchor.addEventListener('click', function(e) {
                        const targetId = this.getAttribute('href');
                        if (targetId === '#') return;
                        const target = document.querySelector(targetId);
                        if (target) {
                            e.preventDefault();
                            const offset = document.querySelector('.navbar').offsetHeight;
                            window.scrollTo({ top: target.offsetTop - offset - 10, behavior: 'smooth' });
                        }
                    });
                });

                // ---------- CONTACT FORM (no upscroll, toast, logic) ----------
                const form = document.getElementById('contact-form');
                const submitBtn = document.getElementById('submitBtn');
                const btnText = document.getElementById('btnText');
                const spinner = document.getElementById('btnSpinner');

                form.addEventListener('submit', async function(e) {
                    e.preventDefault();          // NO PAGE RELOAD / NO SCROLL CHANGE

                    // get values
                    const name = form.name.value.trim();
                    const email = form.email.value.trim();
                    const subject = form.subject.value.trim() || 'New message from portfolio';
                    const message = form.message.value.trim();

                    if (!name || !email || !message) {
                        toastr.warning('name, email and message are required');
                        return;
                    }

                    // disable button, show spinner
                    submitBtn.disabled = true;
                    spinner.classList.remove('d-none');
                    btnText.textContent = 'sending...';

                    try {
                        const response = await emailjs.send(
                            EMAILJS_CONFIG.SERVICE_ID,
                            EMAILJS_CONFIG.TEMPLATE_ID,
                            {
                                name: name,
                                email: email,
                                subject: subject,
                                message: message,
                                date: new Date().toLocaleDateString('en-US', { weekday:'long', year:'numeric', month:'long', day:'numeric' }),
                                time: new Date().toLocaleTimeString('en-US', { hour:'2-digit', minute:'2-digit' })
                            }
                        );

                        console.log('emailjs success', response);
                        toastr.success('message sent! i’ll reply within 24h.');

                        // reset form (but keep same scroll position)
                        form.reset();

                    } catch (err) {
                        console.error('emailjs error', err);
                        let friendly = 'failed to send. you can email me directly at jonterob756@gmail.com';
                        if (err.status === 429) friendly = 'too many attempts. try later.';
                        else if (err.status === 400) friendly = 'invalid data.';
                        toastr.error(friendly, 'error', { timeOut: 6000 });
                    } finally {
                        // re-enable button (scroll unchanged)
                        submitBtn.disabled = false;
                        spinner.classList.add('d-none');
                        btnText.textContent = 'send message';
                    }
                });
            });
        })();
    </script>
    <!-- small extra style to force center toast on all devices -->
    <style>
        #toast-container { left: 50%; top: 50%; transform: translate(-50%, -50%); width: auto; max-width: 380px; }
        .toast-top-center { top: auto; } /* override library */
    </style>
</body>
</html>
